/*!
 * jQuery Polling Plugin v0.3.1
 * https://github.com/riga/jquery.polling
 *
 * Copyright 2014, Marcel Rieger
 * Dual licensed under the MIT or GPL Version 3 licenses.
 * http://www.opensource.org/licenses/mit-license
 * http://www.opensource.org/licenses/GPL-3.0
 */
(function(b,c){var a={};
c.Polling=function(u){var s=u&&a[u];if(!s){var j=[],l=c.Callbacks(),i={autoRun:false,delay:5000,cycles:-1,end:c.Callbacks()},w=0,n=false,x=null,r=false,f=false,v=c.Deferred(),t=function(B){c.extend(true,i,B);
return this;},q=function(){var B=c.makeArray(arguments);if(B.length){j=c.merge(j,B);if(i.autoRun){o();}}return this;},o=function(){b.clearTimeout(x);if(!r){n=true;
var B=[];c.each(j,function(D,E){var C=E();B.push((C&&C.promise)?C.promise():C);});w++;if(i.cycles>-1&&w>=i.cycles){z(i.end.fire||i.end);}c.when.apply(null,B).then(function(){l.fire.apply(l,B);
if(f){v.resolve();}else{x=b.setTimeout(o,i.delay);}});}return this;},A=function(){var C=c.makeArray(arguments);var B=c.Deferred().done(function(){j=c.grep(j,function(D){return c.inArray(D,C)==-1;
});e();});z(B.resolve);return this;},k=function(){var B=c.Deferred().done(function(){j=[];e();});z(B.resolve);return this;},z=function(B){B=B||function(){};
B=B.fire||B;if(!n||x){b.clearTimeout(x);n=false;r=true;B();}else{v=c.Deferred().done(function(){r=true;f=n=false;},B);f=true;}return this;},e=function(B){w=B?0:w;
f=false;if(r){r=false;o();}return this;},m=function(){l.add(c.makeArray(arguments));return this;},p=function(){l.remove(c.makeArray(arguments));return this;
},g=function(){l.empty();return this;},h=function(){return w;},y=function(){return r;},d=function(){return n;};s={setup:t,add:q,run:o,remove:A,empty:k,lock:z,unlock:e,notify:m,disnotify:p,emptyNotifications:g,count:h,locked:y,running:d};
if(u){a[u]=s;}}return s;};})(window,jQuery);